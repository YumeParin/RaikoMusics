% =====================================================================
% PRÉAMBULE
% =====================================================================
\documentclass[12pt,a4paper]{article} % Définit le type de document, la taille de la police et le format du papier.

% --- Packages de Langue et de Mise en Page ---
\usepackage[french]{babel} % Définit la langue du document en français pour la typographie et la césure.
\usepackage[T1]{fontenc} % Encodage des polices, essentiel pour un rendu correct des caractères accentués.
\usepackage[lmargin=2.5cm,rmargin=2.5cm,tmargin=2.5cm,bmargin=2.5cm]{geometry} % Définit les marges de la page.
\usepackage{setspace} % Permet de contrôler l'interligne.
\setstretch{1.5} % Définit un interligne de 1.5.

% --- Packages Techniques et Visuels ---
\usepackage{graphicx} % Permet d'inclure des images.
\usepackage{xcolor} % Permet de définir et d'utiliser des couleurs.
\usepackage{hyperref} % Crée des liens cliquables (pour les références, URL, table des matières).
\usepackage{csquotes} % Améliore la gestion des guillemets.
\usepackage{minted} % Pour l'affichage de code avec coloration syntaxique.
\usepackage{caption} % Personnalisation des légendes des flottants (figures, tables).
\usepackage{subcaption} % Support pour les sous-figures et sous-légendes.
\usepackage{longtable,booktabs,array} % Outils avancés pour la création de tableaux.

% --- Configurations Personnalisées ---

% Définition d'une couleur pour le fond des blocs de code
\definecolor{LightGray}{gray}{0.95}

% Configuration des couleurs des hyperliens
\hypersetup{
    colorlinks=true,         % Liens colorés plutôt qu'encadrés.
    linkcolor={blue},        % Couleur des liens internes (table des matières, références).
    citecolor={blue},        % Couleur des citations bibliographiques.
    filecolor={maroon},      % Couleur des liens vers des fichiers locaux.
    urlcolor={blue}          % Couleur des liens URL.
}

% --- Métadonnées du Document ---
\title{Rapport de Travail\\ \vspace{0.5cm} \Large Projet RaikoMusics}
\author{Antoine Torrez Suzano}
\date{\today}

% Commande pour ajouter un sous-titre (facultatif)
\makeatletter
\providecommand{\subtitle}[1]{%
    \apptocmd{\@title}{\par {\Large\bfseries #1 \par}}{}{}
}
\makeatother
\subtitle{Développement d'une application de streaming audio}

% =====================================================================
% DÉBUT DU DOCUMENT
% =====================================================================
\begin{document}

% --- Page de Garde ---
\begin{titlepage}
    \centering
    \vspace*{1cm}
    
    % Mettre le logo de ton école ici
    % \includegraphics[width=0.4\textwidth]{logo_ecole.png}\\[2cm]
    
    \Huge\bfseries Raiko Musics Project\\[0.5cm]
    \Large Rapport de Travail\\[2cm]
    
    \Large Antoine Torrez Suzano \\[2cm]
    
    \vfill % Pousse le contenu suivant vers le bas de la page
    
    \large
    % À adapter selon ton contexte
    Maître de classe : Bracamonte Javier \\[1cm]
    
    % Mettre le nom de ton école/entreprise
    Ceff Industrie\\
    Département Informatique\\
    Moutier, Suisse\\[1cm]
    
    \today
\end{titlepage}

\vspace{\fill}

% --- Résumé ---
\newpage
\section*{Résumé}
\addcontentsline{toc}{section}{Résumé}

Ce document constitue le rapport du projet Raiko Musics Project. 
C'est une application Web de streaming musical destiné à être simple et 
minimaliste. Le but principal de ce projet était de servir de prétexte afin 
d'affiner mes connaissances, et d'apprendre de nouvelles technologie, en particulier tout 
ce qui entour le domain du DevOps avec l'établissement de pipelines d'integration et de 
déploiement continus (CI/CD) avec GitHub Actions, ainsi que l'orchestration de conteuneurs Docker.
Ce rapport explique l'intégralité du processus adopté, ... a faire quand le document sera finis par 80\%

\vspace{1cm}
\textbf{Mots-clés :} Streaming audio, DevOps, CI/CD, GitHub Actions, Docker, Application Web.

% --- Table des Matières ---
\newpage
\renewcommand*\contentsname{Table des matières}
{
    \hypersetup{linkcolor=black} % Met les liens de la TDM en noir pour l'impression
    \tableofcontents
}
\newpage
\pagenumbering{arabic} % La numérotation des pages commence ici (page 1)
\setstretch{1.5}

% =====================================================================
% CORPS DU RAPPORT
% =====================================================================

\section{Introduction}

Dans le cadre de ma 4ème année de formation CFC, il m'a été demandé de crée un projet 
d'entraînement afin de me préparer au futur Travail Pratique Individuel (TPI) qui décidera
la suite de mon parcours professionel.
L'objectif principal de la création du projet Raiko Musics Project n'est pas de faire de la 
concurrence à d'autres géant du domaine de streaming musical, mais d'avoir un prétexte afin
d'apprendre un ensemple de technologie clé dans le domaine du DevOps. 

La problématique fictif du projet était : avoir une application simple, accessible et rapide 
pour écouter et publier de la music sans téléchargement ni compte requis.

La problématique réel du projet était : Comment concevoir, développer er déployer une application
web moderne en automatisant au maximum le processus de mise à jour ? Ce défi comprend des aspects
varié tel que la gestion d'un serveur cloud, le développement backend pour la gestions des 
conteuneurs, et surtout la création du pipeline CI/CD.

\section{Cahier des Charges}

Cette section définit les objectifs, les fonctionnalités attendues et les contraintes du projet RaikoMusics.

\subsection{Objectifs du Projet}
Les buts principaux du projet RaikoMusics sont les suivants :
\begin{itemize}
    \item \textbf{Apprentissage :} Acquérir une expérience pratique et approfondir mes connaissances sur des technologies spécifiques (streaming, CI/CD, Docker).
    \item \textbf{Fondation Solide :} Construire une application avec une architecture saine et modulaire, permettant d'implémenter facilement de nouvelles fonctionnalités à l'avenir.
    \item \textbf{Rapidité et Simplicité :} Offrir une expérience utilisateur épurée, sans fonctionnalités superflues, pour écouter, publier et gérer de la musique.
\end{itemize}

\subsection{Exigences Fonctionnelles (Critères d'Acceptation)}
Pour que la première version du projet soit considérée comme achevée, les exigences suivantes devaient être satisfaites :
\begin{itemize}
    \item \textbf{EF-01 :} L'utilisateur doit pouvoir lire une piste musicale depuis le serveur via une interface web.
    \item \textbf{EF-02 :} L'utilisateur doit pouvoir téléverser (publier) de nouvelles pistes musicales sur le serveur.
    \item \textbf{EF-03 :} L'utilisateur doit pouvoir supprimer une piste musicale existante.
\end{itemize}

\subsection{Exigences Non-Fonctionnelles}
\begin{itemize}
    \item \textbf{ENF-01 :} L'application doit être déployée via des conteneurs Docker.
    \item \textbf{ENF-02 :} Le processus de déploiement doit être entièrement automatisé : une modification poussée sur la branche \texttt{main} du dépôt Git doit déclencher une mise à jour automatique de l'application en production (Pipeline CI/CD).
    \item \textbf{ENF-03 :} L'application doit être accessible publiquement via une URL sur Internet.
    \item \textbf{ENF-04 :} Le code source du projet doit être ouvert et publié sous licence MIT.
\end{itemize}


\section{Analyse et Conception}

Cette section décrit l'architecture globale de l'application et justifie les choix technologiques effectués pour répondre au cahier des charges.

\subsection{Architecture Globale}
RaikoMusics est conçu selon une architecture client-serveur découplée, composée de plusieurs services conteneurisés communiquant entre eux.

\begin{figure}[h!]
    \centering
    % Tu peux créer un schéma avec un outil comme diagrams.net et l'exporter en PNG
    % \includegraphics[width=0.9\textwidth]{architecture.png}
    \fbox{\parbox{0.9\textwidth}{
        \centering\vspace{4cm}
        Ici, insérer un schéma d'architecture montrant :
        \begin{itemize}
            \item L'Utilisateur (Navigateur)
            \item Le Frontend (ex: React/Vue)
            \item Le Backend API (ex: Node.js/Python)
            \item La Base de Données (ex: PostgreSQL pour les métadonnées)
            \item Le Stockage Objet (ex: MinIO ou un volume Docker pour les fichiers audio)
            \item Le Pipeline CI/CD (GitHub Actions)
        \end{itemize}
        \vspace{4cm}
    }}
    \caption{Schéma de l'architecture de RaikoMusics.}
    \label{fig:architecture}
\end{figure}

Les composants principaux sont :
\begin{itemize}
    \item \textbf{Un service Frontend :} Une application web monopage (SPA) responsable de l'interface utilisateur.
    \item \textbf{Un service Backend (API) :} Une API RESTful qui gère la logique métier : l'authentification (future), la gestion des métadonnées des musiques et les autorisations.
    \item \textbf{Une base de données :} Pour stocker les métadonnées des pistes (titre, artiste, nom de fichier, etc.).
    \item \textbf{Un système de stockage de fichiers :} Pour les fichiers audio eux-mêmes. Pour la simplicité, un volume Docker a été utilisé, mais une solution de stockage objet comme MinIO serait plus scalable.
\end{itemize}

\subsection{Choix Technologiques}
\begin{itemize}
    \item \textbf{Docker :} Choisi pour la conteneurisation. Il permet d'isoler les services, de garantir la reproductibilité des environnements et de simplifier grandement le déploiement.
    \item \textbf{GitHub Actions :} Intégré directement à GitHub, cet outil a été choisi pour sa simplicité de mise en œuvre pour créer le pipeline CI/CD. Il permet de construire les images Docker, de les pousser vers un registre et de déclencher le déploiement sur le serveur à chaque push.
    \item \textbf{Streaming via "HTTP Range Requests" :} Pour la première version, cette technique a été retenue pour sa simplicité. Elle permet au client de demander uniquement des parties spécifiques d'un fichier, ce qui est la base pour la lecture en streaming et la possibilité de se déplacer dans la piste de lecture.
    \item \textbf{Backend : [Nom de la techno, ex: Node.js avec Express]} : À compléter.
    \item \textbf{Frontend : [Nom de la techno, ex: React]} : À compléter.
\end{itemize}

\section{Implémentation}
% Dans cette section, tu décrirais comment tu as codé le projet.
% Exemple :
Cette phase a consisté à traduire la conception en code fonctionnel. Le développement a été divisé en plusieurs étapes clés.

\subsection{Développement du Backend}
Le développement de l'API a commencé par la mise en place des routes pour... J'ai rencontré une difficulté avec la gestion des fichiers uploadés, que j'ai résolue en utilisant la bibliothèque `multer`...

\subsection{Mise en Place du Pipeline CI/CD}
Le pipeline, défini dans un fichier YAML pour GitHub Actions, exécute les étapes suivantes :
\begin{enumerate}
    \item Déclenchement sur un push sur la branche `main`.
    \item Checkout du code source.
    \item Construction des images Docker pour le frontend et le backend.
    \item Publication des images sur un registre (ex: Docker Hub ou GitHub Container Registry).
    \item Connexion en SSH au serveur de production pour lancer un script de déploiement qui met à jour les services.
\end{enumerate}

\section{Tests et Validation}
% Ici, tu expliques comment tu as vérifié que tout fonctionnait.
Pour garantir la qualité et la conformité de l'application avec le cahier des charges, une série de tests manuels a été effectuée.

\begin{table}[h!]
    \centering
    \caption{Validation des exigences fonctionnelles.}
    \label{tab:validation}
    \begin{tabular}{@{}lp{0.6\textwidth}l@{}}
        \toprule
        \textbf{ID} & \textbf{Scénario de test} & \textbf{Résultat} \\
        \midrule
        EF-01 & 1. Ouvrir l'application. 2. Cliquer sur une musique. 3. Vérifier que la musique se lance. & Conforme \\
        EF-02 & 1. Cliquer sur "Publier". 2. Sélectionner un fichier MP3. 3. Valider. 4. Vérifier que la nouvelle musique apparaît dans la liste. & Conforme \\
        EF-03 & ... & ... \\
        \bottomrule
    \end{tabular}
\end{table}

\section{Conclusion}

Le projet RaikoMusics a permis d'atteindre l'ensemble des objectifs fixés dans le cahier des charges. Une application de streaming musical fonctionnelle a été développée et déployée avec succès, en utilisant une chaîne d'outils DevOps moderne.

Sur le plan personnel, ce projet a été une expérience d'apprentissage extrêmement riche. Il m'a permis de monter en compétence sur la conteneurisation avec Docker et, surtout, de démystifier la mise en place d'un pipeline CI/CD complet avec GitHub Actions. La principale difficulté a résidé dans la configuration initiale du déploiement automatisé, mais sa résolution a été très formatrice.

Le projet est aujourd'hui une fondation stable, prête à évoluer.

\subsection{Perspectives et Améliorations Futures}
Plusieurs axes d'amélioration sont envisagés pour les versions futures de RaikoMusics :
\begin{itemize}
    \item \textbf{Amélioration du Streaming :} Remplacer les "HTTP Range Requests" par un protocole de streaming adaptatif comme HLS (HTTP Live Streaming) pour une meilleure performance et une adaptation à la bande passante de l'utilisateur.
    \item \textbf{Gestion des Utilisateurs :} Implémenter un système d'inscription et de connexion pour que les utilisateurs puissent gérer leurs propres musiques et créer des playlists.
    \item \textbf{Algorithme de Recommandation :} Développer un système simple de recommandation basé sur les écoutes.
    \item \textbf{Amélioration de l'Interface :} Enrichir l'interface utilisateur avec plus de fonctionnalités (file d'attente, recherche, etc.).
\end{itemize}

\end{document}